<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>CalmCenter - CalmCenter</title><meta name="author" content="CalmCenter"><meta name="copyright" content="CalmCenter"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="目标设置到月球，即使陨落也是在群星之间！">
<meta property="og:type" content="website">
<meta property="og:title" content="CalmCenter">
<meta property="og:url" content="https://calmcenter.club/page/2/index.html">
<meta property="og:site_name" content="CalmCenter">
<meta property="og:description" content="目标设置到月球，即使陨落也是在群星之间！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://calmcenter.club/img/avatar.jpg">
<meta property="article:author" content="CalmCenter">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://calmcenter.club/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://calmcenter.club/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-right"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2020-11-05 10:34:13'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://gitee.com/CalmCenter/Pic/raw/master/cover2.webp)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">CalmCenter</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">CalmCenter</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/design-pattern-decorator.html" title="设计模式-结构型-装饰模式">     <img class="post_bg" data-lazy-src="https://gitee.com/CalmCenter/Pic/raw/master/cover53.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-结构型-装饰模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/design-pattern-decorator.html" title="设计模式-结构型-装饰模式">设计模式-结构型-装饰模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-07-29T10:59:00.000Z" title="发表于 2020-07-29 18:59:00">2020-07-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">装饰模式（Decorator Pattern）也称为包装模式（Wrapper Pattern），使用一种对客户端透明的方式来动态地扩展对象的功能，同时它也是继承关系的一种替代方案之一。在现实生活中你也可以看见很多装饰模式的例子，或者可以大胆地说装饰模式无处不在，就拿人来说，人需要各式各样的衣着，不管你穿着怎样，但是，对于个人的本质来说是不变的，充其量只是在外面披上一层遮羞物而已，这就是装饰模式，装饰物也许各不相同但是装饰的对象本质是不变的。
1 装饰模式 UML
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455//抽象类， 被装饰的原始对象public abstract class Component &#123;    //返回类型可以改变，从而实现装饰不同的属性    public abstract void operate();&#125;//组件的具体实现public class ConcreteComponent exten ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/design-pattern-bridge.html" title="设计模式-结构型-桥接模式">设计模式-结构型-桥接模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-07-15T10:59:00.000Z" title="发表于 2020-07-15 18:59:00">2020-07-15</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">GoF 的《设计模式》 中，桥接模式是这么定义的：Decouple an abstraction from its implementation so that the two can vary independently。(将抽象和实现解耦，让它们可以独立变化。) 
其他资料的解释：一个类存在两个（或多个）独立变化的维度，我们通过组合的方式，让这两个（或多个）维度可以独立进行扩展。 通过组合关系来替代继承关系，避免继承层次的指数级爆炸。这种理解方式非常类似于，我们之前讲过的“组合优于继承”设计原则。
1 桥接模式举例举个栗子🌰 
我们点咖啡的时候，可以选小杯，大杯，可以加糖，或原味。那用设计模式怎么灵活装配这些需求呢？
123456789101112131415161718192021222324252627282930313233343536public abstract class Coffee &#123;    protected CoffeeAdditives impl;    public Coffee(CoffeeAdditives impl) &#123;      ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/design-pattern-proxy.html" title="设计模式-结构型-代理模式">     <img class="post_bg" data-lazy-src="https://gitee.com/CalmCenter/Pic/raw/master/cover40.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-结构型-代理模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/design-pattern-proxy.html" title="设计模式-结构型-代理模式">设计模式-结构型-代理模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-07-13T04:59:00.000Z" title="发表于 2020-07-13 12:59:00">2020-07-13</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">1 静态代理在不改变原始类（或叫被代理类）代码的情况下，通过引入代理类来给原始类附加功能。
举个栗子🌰 监控登录注册接口调用时长。
MetricsCollector 类用来收集接口请求的原始数据，比如访问时间、处理时长等。
123456789101112131415161718192021222324252627282930public class UserController &#123;  //...省略其他属性和方法...  private MetricsCollector metricsCollector; // 依赖注入  public UserVo login(String telephone, String password) &#123;    long startTimestamp = System.currentTimeMillis();    // ... 省略login逻辑...    long endTimeStamp = System.currentTimeMillis();    long responseTime = endTimeStamp - st ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/design-pattern-prototype.html" title="设计模式-创建型-原型模式">设计模式-创建型-原型模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-07-08T10:59:00.000Z" title="发表于 2020-07-08 18:59:00">2020-07-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">1 什么是原型模式？如果对象的创建成本比较大，而同一个类的不同对象之间差别不大（大部分字段都相同），在这种情况下，我们可以利用对已有对象（原型）进行复制（或者叫拷贝）的方式，来创建新对象，以达到节省创建时间的目的。这种基于原型来创建对象的方式就叫作原型设计模式，简称原型模式。
实际上，创建对象包含的申请内存、给成员变量赋值这一过程，本身并不会花费太多时间，或者说对于大部分业务系统来说，这点时间完全是可以忽略的。应用一个复杂的模式，只得到一点点的性能提升，这就是所谓的过度设计，得不偿失。
但是，如果对象中的数据需要经过复杂的计算才能得到（比如排序、计算哈希值），或者需要从 RPC、网络、数据库、文件系统等非常慢速的 IO 中读取，这种情况下，我们就可以利用原型模式，从其他已有对象中直接拷贝得到，而不用每次在创建新对象的时候，都重复执行这些耗时的操作。
举个栗子🌰
我们在这个例子中首先创建了一个文档对象，即 WordDocument ，这个文档中含有文字和图片。用户经过了长时间的内容编辑后，打算对该文档做进一步的编辑，但是，这个编辑后的文档是否会被采用还不确定，因此，为了安全起见，用户需 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/design-pattern-builder.html" title="设计模式-创建型-Builder 模式">     <img class="post_bg" data-lazy-src="https://gitee.com/CalmCenter/Pic/raw/master/cover41.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-创建型-Builder 模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/design-pattern-builder.html" title="设计模式-创建型-Builder 模式">设计模式-创建型-Builder 模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-07-02T10:59:00.000Z" title="发表于 2020-07-02 18:59:00">2020-07-02</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">Builder 模式一个比较常用的创建型设计模式，中文翻译为建造者模式或者构建者模式，也有人叫它生成器模式。
1 为什么需要建造者模式？举个栗子🌰 
12345678910111213141516171819202122232425262728293031323334353637383940public class ResourcePoolConfig &#123;  private static final int DEFAULT_MAX_TOTAL = 8;  private static final int DEFAULT_MAX_IDLE = 8;  private static final int DEFAULT_MIN_IDLE = 0;  private String name;  private int maxTotal = DEFAULT_MAX_TOTAL;  private int maxIdle = DEFAULT_MAX_IDLE;  private int minIdle = DEFAULT_MIN_IDLE;  public ResourcePoolCo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/design-pattern-factory.html" title="设计模式-创建型-工厂模式">设计模式-创建型-工厂模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-06-29T10:59:00.000Z" title="发表于 2020-06-29 18:59:00">2020-06-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">1 简单工厂模式举个栗子🌰 我们根据配置文件的后缀（json、xml、yaml、properties），选择不同的解析器（JsonRuleConfigParser、XmlRuleConfigParser……），将存储在文件中的配置解析成内存对象 RuleConfig。
12345678910111213141516171819202122232425262728public class RuleConfigSource &#123;  public RuleConfig load(String ruleConfigFilePath) &#123;    String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath);    IRuleConfigParser parser = null;    if (&quot;json&quot;.equalsIgnoreCase(ruleConfigFileExtension)) &#123;      parser = new JsonRuleConfigParser ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/design-pattern-singleton.html" title="设计模式-创建型-单例模式">     <img class="post_bg" data-lazy-src="https://gitee.com/CalmCenter/Pic/raw/master/cover26.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-创建型-单例模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/design-pattern-singleton.html" title="设计模式-创建型-单例模式">设计模式-创建型-单例模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-06-29T04:59:00.000Z" title="发表于 2020-06-29 12:59:00">2020-06-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">1 为什么要使用单例？为什么我们需要单例这种设计模式？它能解决哪些问题？

处理资源访问冲突

比如文件访问、数据库访问。
在多线程环境下，如果两个线程同时给同一个共享变量加 1，因为共享变量是竞争资源，所以，共享变量最后的结果有可能并不是加了 2，而是只加了 1。
我们可以用类级别锁来解决这个问题，因为在不同线程创建不同的对象，所以对象锁是没有用的。
我们还可以使用并发队列 BlockingQueue ，但是实现起来比较麻烦。
最后比较简单的解决思路就是使用单例模式了，单例模式相对于之前类级别锁的好处是，不用创建那么多对象，一方面节省内存空间，另一方面节省系统文件句柄（对于操作系统来说，文件句柄也是一种资源，不能随便浪费）。
举个栗子🌰 文件日志，在多线程情况下肯定也会出现上面的问题，线程同时执行，会覆盖前一次的写入。但是单例就没问题了
1234567891011121314151617181920212223242526272829303132public class Logger &#123;  private FileWriter writer;  private stati ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/code-standards.html" title="设计模式-编码规范篇">设计模式-编码规范篇</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-06-24T04:59:00.000Z" title="发表于 2020-06-24 12:59:00">2020-06-24</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">本文主要记载
1 命名多长最合适？
2 利用上下文简化命名
3 命名要可读、可搜索
4 如何命名接口和抽象类？
5 注释到底该写什么？
6 注释是不是越多越好？
7 类、函数多大才合适？
8 一行代码多长最合适？
9 善用空行分割单元块
10 四格缩进还是两格缩进？
11 大括号是否要另起一行？
12 类中成员的排列顺序
13 把代码分割成更小的单元块
14 避免函数参数过多
15 勿用函数参数来控制逻辑
16 函数设计要职责单一
17 移除过深的嵌套层次
18 常量取代魔法数字
19 使用解释性变量来解释复杂表达式
20 统一编码规范

编码规范大部分都简单明了，在代码细节方面，能立竿见影地改善质量。
命名大到项目名、模块名、包名、对外暴露的接口，小到类名、函数名、变量名、参数名，只要是做开发，我们就逃不过“起名字”这一关。命名的好坏，对于代码的可读性来说非常重要，甚至可以说是起决定性作用的。除此之外，命名能力也体现了一个程序员的基本编程素养。
那具体应该怎么命名呢？好的命名有啥标准吗？
1 命名多长最合适？有的人喜欢很长的命名方式，觉得命名一定要准确达意，哪怕长一点也没关系，所以， ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/unit-testing.html" title="设计模式篇-单元测试">     <img class="post_bg" data-lazy-src="https://gitee.com/CalmCenter/Pic/raw/master/cover27.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式篇-单元测试"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/unit-testing.html" title="设计模式篇-单元测试">设计模式篇-单元测试</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-06-23T04:59:00.000Z" title="发表于 2020-06-23 12:59:00">2020-06-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">本文主要记载
什么是单元测试？
为什么要写单元测试？
如何编写单元测试？
重构代码适配单元测试例子



1 什么是单元测试？单元测试由研发工程师自己来编写，用来测试自己写的代码的正确性。我们常常将它跟集成测试放到一块来对比。
单元测试相对于集成测试 （Integration Testing） 来说，测试的粒度更小一些。
集成测试的测试对象是整个系统或者某个功能模块，比如测试用户注册、登录功能是否正常，是一种端到端 （end to end） 的测试。
而单元测试的测试对象是类或者函数，用来测试一个类和函数是否都按照预期的逻辑执行。这是代码层级的测试。
2 为什么要写单元测试？单元测试除了能有效地为重构保驾护航之外，也是保证代码质量最有效的两个手段之一（另一个是 Code Review）。

单元测试能有效地帮你发现代码中的 bug
能否写出 bug free 的代码，是判断工程师编码能力的重要标准之一，也是很多大厂面试考察的重点，单元测试可以帮助开发者快速方便的测试逻辑代码。
坚持写单元测试是保证代码质量的一个 “杀手锏” ，也是帮助自己拉开与其他人差距的一个 “小秘密” 。

写单元 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/oop.html" title="设计模式篇-面向对象">设计模式篇-面向对象</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-06-11T04:59:00.000Z" title="发表于 2020-06-11 12:59:00">2020-06-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">面向对象
面向对象编程(Object Oriented Programming OOP)

是一种编程范式或编程风格。它以类或对象作为组织代码的基本单元，并将封装、抽象、继承、多态四个特性，作为代码设计和实现的基石 。
面向对象编程中有两个非常重要、非常基础的概念，那就是类（class）和对象（object）。

面向对象编程语言(Object Oriented Programming Language OOPL)

是支持类或对象的语法机制，并有现成的语法机制，能方便地实现面向对象编程四大特性（封装、抽象、继承、多态）的编程语言。

封装（Encapsulation）

What：隐藏信息，保护数据访问。How：类通过暴露有限的访问接口，授权外部仅能通过类提供的方式来访问内部信息或者数据。它需要编程语言提供权限访问控制语法来支持，例如 Java 中的 private、protected、public 关键字。Why：保护数据不被随意修改，提高代码可维护性；降低接口复杂度，提高类的易用性。

抽象（Abstraction）

What：隐藏具体实现，使用者只需关心功能，无需关心实现。H ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/design-philosophy.html" title="设计模式-设计原则篇">     <img class="post_bg" data-lazy-src="https://gitee.com/CalmCenter/Pic/raw/master/cover38.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-设计原则篇"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/design-philosophy.html" title="设计模式-设计原则篇">设计模式-设计原则篇</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-06-10T04:59:00.000Z" title="发表于 2020-06-10 12:59:00">2020-06-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A0%81/">编码</a></span></div><div class="content">本文主要记载
单一责任原则
如何理解 “单一职责原则”？
如何判断类的职责是否足够单一？
类的职责是否设计的越单一越好？


开闭原则
如何理解 “对扩展开放、修改关闭”？
如何做到 “对扩展开放、修改关闭”？
如何正在项目中灵活应用开闭原则？


里式替换原则
如何理解 “里式替换原则”？
如何做到 “里式替换原则”？
接口隔离原则和单一职责原则的区别


依赖反转原则
控制反转
依赖注入
依赖反转原则


KISS 原则
代码行数越少越 “简单” 吗？
代码逻辑复杂就违背 KISS 原则吗？
如何写出满足 KISS 原则的代码？
YANGNI 原则跟 KISS 原则说的是一回事吗？


DRY 原则
实现逻辑重复
功能语义重复
代码执行重复
怎么提高代码复用性？
思考和灵活应用


迪米特法则
何为 “高内聚，松耦合”？
不该有直接依赖关系的类之间，不要有依赖
有依赖关系的类之间，尽量只依赖必要的接口




🚩单一责任原则 (Single Responsibility Principle SRP)
1 如何理解 “单一职责原则” ？A class or module shoul ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/package-optimization.html" title="App 刷脂">App 刷脂</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-05-21T04:59:00.000Z" title="发表于 2020-05-21 12:59:00">2020-05-21</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Android/">Android</a></span></div><div class="content">本文主要记载
1 为什么要优化包体积？
2 包体积与应用性能有关系吗？
3 根据 APK 组成分析优化
3.1 代码相关
3.1.1 Dex 探秘
3.1.2 Proguard
3.1.3 D8 与 R8 优化
3.1.4 去除 debug 信息与行号信息
3.1.5 Dex 分包
Redex Ubuntu 具体实践


3.1.6 使用 XZ Utils 进行 Dex 压缩
3.1.7 其他


3.2 资源相关
3.2.1 使用 Lint 的 Remove Unused Resource
3.2.2 shrinkResources
3.2.3 AndResGuard 工具
实践




3.3 Native Library 相关
3.3.1 Library 压缩
3.3.2 Library 合并与裁剪






1 为什么要优化包体积？
下载转化率。 
APK 刷脂在 初创项目 中优先级是比较低的，相对于 启动优化、卡顿优化 它的好处不是那么明显，包体积优化最主要的好处是对应用 下载转化率 的影响，它是 App 业务运营的重要指标之一，在项目精细化运营的阶段是非常重要的。在 20 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">CalmCenter</div><div class="author-info__description">目标设置到月球，即使陨落也是在群星之间！</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/CalmCenter"><i class="fab fa-github"></i><span>Follow Me</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">不要努力成为一个成功的人，而要努力成为一个有价值的人。</div></div></div><div class="sticky_layout"><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Android/"><span class="card-category-list-name">Android</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Hexo/"><span class="card-category-list-name">Hexo</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/github/"><span class="card-category-list-name">github</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/live2D/"><span class="card-category-list-name">live2D</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BC%96%E7%A0%81/"><span class="card-category-list-name">编码</span><span class="card-category-list-count">20</span></a></li>
            
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Android/" style="font-size: 1.4em; color: #99a5b6">Android</a> <a href="/tags/Hexo/" style="font-size: 1.2em; color: #999da3">Hexo</a> <a href="/tags/Next/" style="font-size: 1.1em; color: #999">Next</a> <a href="/tags/ViewPageIndicator/" style="font-size: 1.1em; color: #999">ViewPageIndicator</a> <a href="/tags/coding/" style="font-size: 1.1em; color: #999">coding</a> <a href="/tags/delvik/" style="font-size: 1.1em; color: #999">delvik</a> <a href="/tags/git/" style="font-size: 1.2em; color: #999da3">git</a> <a href="/tags/github/" style="font-size: 1.2em; color: #999da3">github</a> <a href="/tags/live2D/" style="font-size: 1.1em; color: #999">live2D</a> <a href="/tags/live2d/" style="font-size: 1.1em; color: #999">live2d</a> <a href="/tags/seo/" style="font-size: 1.1em; color: #999">seo</a> <a href="/tags/ui/" style="font-size: 1.1em; color: #999">ui</a> <a href="/tags/viewpage/" style="font-size: 1.1em; color: #999">viewpage</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.1em; color: #999">博客</a> <a href="/tags/%E5%9F%9F%E5%90%8D/" style="font-size: 1.1em; color: #999">域名</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 1.3em; color: #99a1ac">性能优化</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size: 1.5em; color: #99a9bf">编码</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">十一月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/09/"><span class="card-archive-list-date">九月 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/08/"><span class="card-archive-list-date">八月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/07/"><span class="card-archive-list-date">七月 2020</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">六月 2020</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/05/"><span class="card-archive-list-date">五月 2020</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/04/"><span class="card-archive-list-date">四月 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>查看更多</span><i class="fas fa-angle-right"  ></i></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">43</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">155.7k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2020-11-05T02:34:13.340Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 By CalmCenter</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>function subtitleType () {
  $.getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js',function () {
    jinrishici.load(function (result) {
      if (true) {
        var sub = "".length == 0 ? new Array() : "".split(',')
        var content = result.data.content
        var both = sub.unshift(content)
        var typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: false,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = result.data.content
      }
    })
  })
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script></div></body></html>